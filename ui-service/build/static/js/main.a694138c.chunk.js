(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){e.exports=n(119)},105:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),i=n.n(o),c=(n(105),n(169)),l=n(194),s=function(e){return a.a.createElement("div",null,a.a.createElement(l.a,null),a.a.createElement(c.a,{maxWidth:"md"},e.children))},u=n(40),d=n(21),m=n(44),h=n(41),p=n(43),v=n(177),f=n(179),E=n(85),y=n.n(E),g=n(178),b=n(174),O=n(193),C=n(188),j=n(86),w=n.n(j),S=n(176),M=n(56),x=n(191),T=n(172),A=n(171),D=n(173),_=n(189),k=n(175),L=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={name:"",year:"",length:"",dname:"",dsurname:""},n.handleChange=function(e,t){var r=t.target.value;n.setState(Object(M.a)({},e,r))},n.handleForm=function(e){e.preventDefault();var t={id:"",name:n.state.name,year:n.state.year,length:n.state.length,director:{id:"",name:n.state.dname,surname:n.state.dsurname}};n.props.close(),n.props.add(t)},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(x.a,{scroll:"body",maxWidth:"xs",open:this.props.show,onClose:this.props.close},a.a.createElement(A.a,null,"Add a new movie"),a.a.createElement(T.a,null,a.a.createElement(D.a,null,"Please fill this form."),a.a.createElement("form",{onSubmit:this.handleForm,encType:"multipart/form-data"},a.a.createElement(_.a,{required:!0,label:"Name",margin:"normal",name:"name",onChange:function(t){return e.handleChange("name",t)}}),a.a.createElement("br",null),a.a.createElement(_.a,{required:!0,label:"Year",margin:"normal",name:"year",onChange:function(t){return e.handleChange("year",t)}}),a.a.createElement("br",null),a.a.createElement(_.a,{required:!0,label:"Length",margin:"normal",name:"length",onChange:function(t){return e.handleChange("length",t)}}),a.a.createElement("br",null),a.a.createElement(_.a,{required:!0,label:"Director's name",margin:"normal",name:"dname",onChange:function(t){return e.handleChange("dname",t)}}),a.a.createElement("br",null),a.a.createElement(_.a,{required:!0,label:"Director's surname",margin:"normal",name:"dsurname",onChange:function(t){return e.handleChange("dsurname",t)}}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(k.a,null,a.a.createElement(S.a,{onClick:this.props.close,color:"primary",variant:"contained"},"Cancel"),a.a.createElement(S.a,{type:"submit",color:"primary",variant:"contained"},"Add")))))}}]),t}(r.Component),W=n(42),B=function(e){return{type:"ADD_MOVIE",movie:e}},N=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).state={showForm:!1},n.onButtonClick=function(){n.setState(function(e){return{showForm:!e.showForm}})},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement(v.a,{position:"static",color:"primary"},a.a.createElement(g.a,{style:{justifyContent:"center"}},a.a.createElement(C.a,{style:{backgroundColor:"#ffca28",padding:"4px",borderColor:"white",borderRadius:"15px 0px 0px 15px",borderLeftWidth:"2px",borderBottomWidth:"2px",borderTopWidth:"2px",borderRightWidth:"1px",borderStyle:"solid"},disableUnderline:!0,value:this.props.searchType,variant:"outlined",onChange:function(t){return e.props.changeTypeSearch(t.target.value)}},a.a.createElement(O.a,{value:"movie"},"Movie"),a.a.createElement(O.a,{value:"director"},"Director")),a.a.createElement(b.a,{onChange:function(t){return e.props.setSearch(t.target.value)},style:{paddingLeft:"4px",color:"white",fontSize:23,borderLeftWidth:"0px",borderTopWidth:"2px",borderBottomWidth:"2px",borderRightWidth:"0px",borderStyle:"solid"},type:"search",disableUnderline:!0,placeholder:this.props.placeholder}),a.a.createElement("div",{style:{borderRadius:"0px 15px 15px 0px",borderLeftWidth:"0px",borderTopWidth:"2px",borderBottomWidth:"2px",borderRightWidth:"2px",borderStyle:"solid"}},a.a.createElement(f.a,{style:{paddingTop:"2px"},size:"small",color:"inherit"},a.a.createElement(y.a,{fontSize:"large"}))),a.a.createElement("div",{style:{marginLeft:"auto"}},a.a.createElement(S.a,{onClick:this.onButtonClick,style:{borderWidth:"2px",borderColor:"white",borderStyle:"solid"},variant:"contained",color:"secondary",size:"medium"},"ADD MOVIE \xa0",a.a.createElement(w.a,null))),a.a.createElement(L,{add:this.props.addMovie,show:this.state.showForm,close:this.onButtonClick})))}}]),t}(r.Component),I=Object(W.b)(function(e){return{searchType:e.movie.selected,placeholder:e.movie.placeholder}},function(e){return{addMovie:function(t){return e(function(e){return function(t){var n=new FormData;n.append("name",e.name),n.append("year",e.year),n.append("length",e.length),n.append("directorName",e.director.name),n.append("directorSurname",e.director.surname),fetch("http://localhost:8080/movie/add",{method:"POST",mode:"cors",headers:new Headers({"Access-Control-Allow-Origin":"*"}),body:n}).then(function(e){return e.json()}).then(function(n){e.id=n.id,e.director.id=n.directorId,t(B(e))})}}(t))},changeTypeSearch:function(t){return e(function(e){return{type:"CHANGE_TYPE_SEARCH",searchType:e}}(t))},setSearch:function(t){return e(function(e){return{type:"SET_SEARCH",word:e}}(t))}}})(N),R=n(90),F=n(192),H=n(88),V=n.n(H),q=n(186),Y=n(180),z=n(185),P=n(183),G=n(181),U=n(182),J=n(87),X=n.n(J),$=n(121),K=n(184),Q=n(195),Z=function(e){return a.a.createElement($.a,{square:"true"},a.a.createElement(Y.a,{size:"small"},a.a.createElement(G.a,null,a.a.createElement(U.a,null,a.a.createElement(P.a,{align:"left"},a.a.createElement(K.a,{style:{marginLeft:"24px"},badgeContent:e.count,color:"primary"},a.a.createElement("div",null))),a.a.createElement(P.a,{align:"justify"},"Name"),a.a.createElement(P.a,{align:"justify"},a.a.createElement(Q.a,{onClick:function(){return e.sort("length")},active:"length"===e.active,direction:e.direction},"Length\xa0(minutes)")),a.a.createElement(P.a,{align:"justify"},a.a.createElement(Q.a,{onClick:function(){return e.sort("year")},active:"year"===e.active,direction:e.direction},"Year")),a.a.createElement(P.a,{align:"justify"},"Director\xa0(name)"),a.a.createElement(P.a,{align:"justify"},"Director\xa0(surname)"))),a.a.createElement(z.a,null,e.data.map(function(t,n){return a.a.createElement(U.a,{key:t.id},a.a.createElement(P.a,{align:"left"},a.a.createElement(f.a,{onClick:function(){return e.deleteMovie(t.id,n)},color:"primary"},a.a.createElement(X.a,null))),a.a.createElement(P.a,{component:"th",scope:"row",align:"justify"},t.name),a.a.createElement(P.a,{align:"justify"},t.length),a.a.createElement(P.a,{align:"justify"},t.year),a.a.createElement(P.a,{align:"justify"},t.director.name),a.a.createElement(P.a,{align:"justify"},t.director.surname))}))))},ee=function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(a)))).isSearchFieldNotEmpty=function(){return""!=n.props.search},n.searchMoviesByMovieName=function(e,t){return e=e.filter(function(e){return-1!==e.name.toLowerCase().indexOf(t)})},n.searchMoviesByDirectorName=function(e,t){return e=e.filter(function(e){return-1!==e.director.surname.toLowerCase().indexOf(t)})},n.isTableAttributeClicked=function(){return""!==n.props.active},n.sortMoviesByMovieLength=function(e){return"asc"===n.props.direction?(e.sort(function(e,t){return e.length-t.length}),e):(e.sort(function(e,t){return t.length-e.length}),e)},n.sortMoviesByMovieYear=function(e){return"asc"===n.props.direction?(e.sort(function(e,t){return e.year-t.year}),e):(e.sort(function(e,t){return t.year-e.year}),e)},n}return Object(p.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.initMovies()}},{key:"render",value:function(){var e=this.props.mv,t=this.props.count;if(this.isSearchFieldNotEmpty()){var n=this.props.search.toLowerCase();"movie"===this.props.searchType?e=this.searchMoviesByMovieName(e,n):t=(e=this.searchMoviesByDirectorName(e,n)).length}this.isTableAttributeClicked()&&(e="length"===this.props.active?this.sortMoviesByMovieLength(e):this.sortMoviesByMovieYear(e));return a.a.createElement("div",null,a.a.createElement(Z,{sort:this.props.setSort,active:this.props.active,direction:this.props.direction,data:e,deleteMovie:this.props.deleteMovie,count:t}))}}]),t}(r.Component),te=Object(W.b)(function(e){return{mv:e.movie.movies,count:e.movie.count,search:e.movie.search,searchType:e.movie.selected,active:e.movie.sort.active,direction:e.movie.sort.direction}},function(e){return{initMovies:function(){return e(function(e){fetch("http://localhost:8080/movie/",{method:"GET",mode:"cors",headers:new Headers({"Access-Control-Allow-Origin":"*"})}).then(function(e){return e.json()}).then(function(t){e({type:"INIT_MOVIES",movies:t})})})},deleteMovie:function(t,n){return e(function(e,t){return function(n){fetch("http://localhost:8080/movie/delete/?id="+e,{method:"DELETE",mode:"cors",headers:new Headers({"Access-Control-Allow-Origin":"*"})}).then(function(e){n(function(e){return{type:"DELETE_MOVIE",index:e}}(t))})}}(t,n))},setSort:function(t){return e(function(e){return{type:"SET_SORT",active:e}}(t))}}})(ee),ne=Object(R.a)({palette:{primary:V.a,secondary:{main:q.a[400]}}});var re=function(){return a.a.createElement(F.a,{theme:ne},a.a.createElement(s,null,a.a.createElement(I,null),a.a.createElement(te,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ae=n(37),oe=n(89),ie=n(49),ce=n(38),le={movies:[],count:null,search:"",selected:"movie",placeholder:"Search Movies",sort:{active:"",direction:"asc"}},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_MOVIES":return function(e,t){return Object(ce.a)({},e,{movies:t.movies,count:t.movies.length})}(e,t);case"ADD_MOVIE":return function(e,t){var n=Object(ie.a)(e.movies);return n.splice(0,0,t.movie),Object(ce.a)({},e,{movies:n,count:e.count+1})}(e,t);case"DELETE_MOVIE":return function(e,t){var n=Object(ie.a)(e.movies);return n.splice(t.index,1),Object(ce.a)({},e,{movies:n,count:e.count-1})}(e,t);case"CHANGE_TYPE_SEARCH":return function(e,t){var n="";return n="movie"===t.searchType?"Search Movies":"Search Directors",Object(ce.a)({},e,{selected:t.searchType,placeholder:n})}(e,t);case"SET_SEARCH":return function(e,t){return Object(ce.a)({},e,{search:t.word})}(e,t);case"SET_SORT":return function(e,t){var n=e.sort.direction;return""!==e.sort.active&&(n="asc"===e.sort.direction?"desc":"asc"),Object(ce.a)({},e,{sort:{active:t.active,direction:n}})}(e,t);default:return e}},ue=Object(ae.c)({movie:se}),de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,me=Object(ae.e)(ue,de(Object(ae.a)(oe.a)));i.a.render(a.a.createElement(W.a,{store:me},a.a.createElement(re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[100,1,2]]]);
//# sourceMappingURL=main.a694138c.chunk.js.map